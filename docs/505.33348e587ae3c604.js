(self.webpackChunk=self.webpackChunk||[]).push([[505],{24291:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(36484),r=i(24246);function s(){return(0,r.jsx)("div",{className:"hero py-[64px]",children:(0,r.jsx)("div",{className:"hero-content text-center",children:(0,r.jsx)(n.m,{})})})}},36484:(e,t,i)=>{"use strict";i.d(t,{n:()=>E,m:()=>U});var n=i(34899),r=i(65783),s=i(3924),a=i(34113);function l(e,t=5){if(!e)return`${e}`;const i=e.toString();return i.substring(0,t)+"..."+i.substring(i.length-t)}function o(e,t,i){return Object.assign({slotContext:i,pubkey:e},t)}function c(e,t){return new a.Z(e.toFixed(t))}function d(e){return s.DecimalUtil.toBN(new a.Z(e.toString()),0)}var u=i(80249),h=i(25715),j=i(96729),m=i(50381),k=i(92123),x=i(48477),g=i(52766),p=i(15589),y=i(35679),f=i(82650),v=i(54316),b=i(61320),A=i.n(b);const I="https://api.mainnet.orca.so/v1/whirlpool/list";async function w(){const e=await(await fetch(I)).json(),t=[];return e.whirlpools.forEach((e=>{var i,n,r;const s=N(e.tokenA.symbol,e.tokenA.mint),l=N(e.tokenB.symbol,e.tokenB.mint);t.push({address:new j.PublicKey(e.address),name:`${s}/${l}(${e.tickSpacing})`,invertedName:`${l}/${s}(${e.tickSpacing})`,symbolA:s,symbolB:l,mintA:new j.PublicKey(e.tokenA.mint),mintB:new j.PublicKey(e.tokenB.mint),tickSpacing:e.tickSpacing,price:new a.Z(e.price),usdTVL:new a.Z(null!=(i=e.tvl)?i:0),usdVolumeDay:new a.Z(null!=(n=null==(r=e.volume)?void 0:r.day)?n:0)})})),t.sort(T),t}function T(e,t){return e.symbolA<t.symbolA?-1:e.symbolA>t.symbolA?1:e.symbolB<t.symbolB?-1:e.symbolB>t.symbolB?1:e.tickSpacing<t.tickSpacing?-1:e.tickSpacing>t.tickSpacing?1:0}function N(e,t){return(null==e?void 0:e.trim())||`\u2753(${l(t,4)})`}const S="https://api.mainnet.orca.so/v1/token/list";class TokenList{constructor(e){this.tokenList=e,this.tokenMintMap=void 0,this.tokenMintMap=new Map;for(const t of e)this.tokenMintMap.set(t.mint.toBase58(),t)}getTokenInfoByMint(e){return this.tokenMintMap.get(e.toString())}}async function B(){const e=await(await fetch(S)).json(),t=[];return e.tokens.forEach((e=>{t.push({mint:new j.PublicKey(e.mint),symbol:N(e.symbol,e.mint),name:N(e.name,e.mint),decimals:e.decimals,logoURI:e.logoURI,coingeckoId:e.coingeckoId,whitelisted:e.whitelisted,poolToken:e.poolToken})})),t.sort(((e,t)=>e.symbol.localeCompare(t.symbol))),new TokenList(t)}const P=10,D=[1,2,4,8,16,32,64,128,256,512];function M(e,t,i){const n=y.TickUtil.getStartTickIndex(e,t);for(const r of i)if((null==r?void 0:r.startTickIndex)===n)return y.TickArrayUtil.getTickFromArray(r,e,t)}async function R(e,t,i){var n,r,l;const u=s.AddressUtil.toPubKey(t),h=(0,y.buildDefaultAccountFetcher)(e),{accountInfo:j,slotContext:m}=await async function(e,t){const i=await e.getAccountInfoAndContext(t);if(!i.value)throw new Error(`Account ${t.toBase58()} does not exist`);return{accountInfo:i.value,slotContext:i.context.slot}}(e,u),k=y.ParsableWhirlpool.parse(u,j),x=[];x.push(k.tokenMintA),x.push(k.tokenMintB),x.push(k.rewardInfos[0].mint),x.push(k.rewardInfos[1].mint),x.push(k.rewardInfos[2].mint);const g=await h.getMintInfos(x,y.IGNORE_CACHE),p=g.get(x[0].toBase58()).decimals,b=g.get(x[1].toBase58()).decimals,I=null==(n=g.get(x[2].toBase58()))?void 0:n.decimals,w=null==(r=g.get(x[3].toBase58()))?void 0:r.decimals,T=null==(l=g.get(x[4].toBase58()))?void 0:l.decimals,N=[];N.push(k.tokenVaultA),N.push(k.tokenVaultB),N.push(k.rewardInfos[0].vault),N.push(k.rewardInfos[1].vault),N.push(k.rewardInfos[2].vault);const S=await h.getTokenInfos(N,y.IGNORE_CACHE),B=[S.get(N[0].toBase58()),S.get(N[1].toBase58()),S.get(N[2].toBase58()),S.get(N[3].toBase58()),S.get(N[4].toBase58())],R=i.getTokenInfoByMint(x[0]),C=i.getTokenInfoByMint(x[1]),z=i.getTokenInfoByMint(x[2]),U=i.getTokenInfoByMint(x[3]),E=i.getTokenInfoByMint(x[4]),q=k.tickSpacing*y.TICK_ARRAY_SIZE,_=y.TickUtil.getStartTickIndex(k.tickCurrentIndex,k.tickSpacing),K=[],F=[];for(let s=-P;s<=P;s++){const e=y.TickUtil.getStartTickIndex(k.tickCurrentIndex,k.tickSpacing,s);e+q<=y.MIN_TICK_INDEX||(e>y.MAX_TICK_INDEX||(K.push(e),F.push(y.PDAUtil.getTickArray(j.owner,u,e).publicKey)))}const X=await h.getTickArrays(F,y.IGNORE_CACHE),O=[];K.forEach(((e,t)=>{O.push({pubkey:F[t],startTickIndex:e,startPrice:c(y.PriceMath.tickIndexToPrice(e,p,b),b),isInitialized:!!X[t],hasTickCurrentIndex:e===_})}));const V=Math.ceil(y.MIN_TICK_INDEX/k.tickSpacing)*k.tickSpacing,L=Math.floor(y.MAX_TICK_INDEX/k.tickSpacing)*k.tickSpacing,Z=y.TickUtil.getStartTickIndex(V,k.tickSpacing),$=y.TickUtil.getStartTickIndex(L,k.tickSpacing),W=y.PDAUtil.getTickArray(j.owner,u,Z).publicKey,H=y.PDAUtil.getTickArray(j.owner,u,$).publicKey,G=await h.getTickArrays([W,H],y.IGNORE_CACHE),Y=[{pubkey:W,startTickIndex:Z,isInitialized:!!G[0]},{pubkey:H,startTickIndex:$,isInitialized:!!G[1]}],Q=[];D.forEach((e=>{Q.push(y.PDAUtil.getWhirlpool(j.owner,k.whirlpoolsConfig,k.tokenMintA,k.tokenMintB,e).publicKey)}));const J=await h.getPools(Q,y.IGNORE_CACHE),ee=[];D.forEach(((e,t)=>{const i=J.get(Q[t].toBase58());i&&ee.push({tickSpacing:e,feeRate:y.PoolUtil.getFeeRate(i.feeRate).toDecimal().mul(100),pubkey:Q[t],tickCurrentIndex:i.tickCurrentIndex,price:c(y.PriceMath.sqrtPriceX64ToPrice(i.sqrtPrice,p,b),b),liquidity:i.liquidity})}));const te=y.PDAUtil.getOracle(j.owner,u).publicKey;let ie={downward:[],upward:[],error:!0};try{const e=function(e,t,i,n){let r,a,l,o,d,u,h;const j=e.tickCurrentIndex,m=e.tickSpacing,k=Math.floor(j/m)*m,x=k+m;r=e.tickCurrentIndex,l=e.sqrtPrice,d=e.liquidity;const g=[];for(let b=0;b<10&&(a=x+b*m,h=M(a,m,t),void 0===h&&a--,!(a<=r));b++){o=y.PriceMath.tickIndexToSqrtPriceX64(a),u=c(y.PriceMath.tickIndexToPrice(a,i,n),n);const e=(0,v.getAmountDeltaA)(l,o,d,!1),t=(0,v.getAmountDeltaB)(l,o,d,!0);if(g.push({tickIndex:a,price:u,amountA:s.DecimalUtil.fromBN(new f.BN(e),i),amountB:s.DecimalUtil.fromBN(new f.BN(t),n)}),void 0===h)break;r=a,l=o,d=d.add(h.liquidityNet)}r=e.tickCurrentIndex,l=e.sqrtPrice,d=e.liquidity;const p=[];for(let b=0;b<10&&(a=k-b*m,h=M(a,m,t),void 0!==h);b++){o=y.PriceMath.tickIndexToSqrtPriceX64(a),u=c(y.PriceMath.tickIndexToPrice(a,i,n),n);const e=(0,v.getAmountDeltaA)(l,o,d,!0),t=(0,v.getAmountDeltaB)(l,o,d,!1);p.push({tickIndex:a,price:u,amountA:s.DecimalUtil.fromBN(new f.BN(e),i),amountB:s.DecimalUtil.fromBN(new f.BN(t),n)}),r=a,l=o,d=d.sub(h.liquidityNet)}return{upward:g,downward:p,error:!1}}(k,X.slice(),p,b);ie=e}catch(re){console.log(re)}let ne={downward:[],upward:[],error:!0};try{const e=function(e,t,i,n,r,l){let o,d,u,h,j,m,k;const x=e.tickCurrentIndex,g=e.tickSpacing,p=g*y.TICK_ARRAY_SIZE,b=Math.floor(x/g)*g,A=b+g,I=Math.floor(x/p)*p,w=(I-t[0])/p,T=[],N=[],S=[],B=[],P=[];for(let s=0;w+s<i.length;s++)T.push(i[w+s]),N.push(t[w+s]),S.push(n[w+s]),B.push(new a.Z(0)),P.push(new a.Z(0));const D=Math.min(y.MAX_TICK_INDEX,I+S.length*p);let R=0;o=e.tickCurrentIndex,u=e.sqrtPrice,j=e.liquidity;for(let a=0;d=A+a*g,!(d>D);a++){h=y.PriceMath.tickIndexToSqrtPriceX64(d),m=c(y.PriceMath.tickIndexToPrice(d,r,l),l);const e=(0,v.getAmountDeltaA)(u,h,j,!1),t=(0,v.getAmountDeltaB)(u,h,j,!0),i=s.DecimalUtil.fromBN(new f.BN(e),r),a=s.DecimalUtil.fromBN(new f.BN(t),l);B[R]=B[R].add(i),P[R]=P[R].add(a),k=M(d,g,n),void 0!==k&&(j=j.add(k.liquidityNet)),o=d,u=h,d%p==0&&R++}const C=[],z=[],U=[],E=[],q=[];for(let s=0;w-s>=0;s++)C.push(i[w-s]),z.push(t[w-s]),U.push(n[w-s]),E.push(new a.Z(0)),q.push(new a.Z(0));const _=Math.max(y.MIN_TICK_INDEX,I-(U.length-1)*p);let K=0;o=e.tickCurrentIndex,u=e.sqrtPrice,j=e.liquidity;for(let a=0;d=b-a*g,!(d<_);a++){h=y.PriceMath.tickIndexToSqrtPriceX64(d),m=c(y.PriceMath.tickIndexToPrice(d,r,l),l);const e=(0,v.getAmountDeltaA)(u,h,j,!0),t=(0,v.getAmountDeltaB)(u,h,j,!1),i=s.DecimalUtil.fromBN(new f.BN(e),r),a=s.DecimalUtil.fromBN(new f.BN(t),l);E[K]=E[K].add(i),q[K]=q[K].add(a),k=M(d,g,n),void 0!==k&&(j=j.sub(k.liquidityNet)),o=d,u=h,d%p==0&&K++}const F=[];for(let s=0;s<T.length;s++)F.push({tickArrayPubkey:T[s],tickArrayStartIndex:N[s],tickArrayStartPrice:c(y.PriceMath.tickIndexToPrice(N[s],r,l),l),tickArrayData:S[s],amountA:B[s],amountB:P[s]});const X=[];for(let s=0;s<C.length;s++)X.push({tickArrayPubkey:C[s],tickArrayStartIndex:z[s],tickArrayStartPrice:c(y.PriceMath.tickIndexToPrice(z[s],r,l),l),tickArrayData:U[s],amountA:E[s],amountB:q[s]});return{upward:F,downward:X,error:!1}}(k,K,F,X.slice(),p,b);ne=e}catch(re){console.log(re)}return{meta:o(u,j,m),parsed:k,derived:{price:c(y.PriceMath.sqrtPriceX64ToPrice(k.sqrtPrice,p,b),b),invertedPrice:c(new a.Z(1).div(y.PriceMath.sqrtPriceX64ToPrice(k.sqrtPrice,p,b)),p),feeRate:y.PoolUtil.getFeeRate(k.feeRate).toDecimal().mul(100),protocolFeeRate:y.PoolUtil.getProtocolFeeRate(k.protocolFeeRate).toDecimal().mul(100),decimalsA:p,decimalsB:b,decimalsR0:I,decimalsR1:w,decimalsR2:T,tokenInfoA:R,tokenInfoB:C,tokenInfoR0:z,tokenInfoR1:U,tokenInfoR2:E,tokenVaultAAmount:s.DecimalUtil.fromBN(B[0].amount,p),tokenVaultBAmount:s.DecimalUtil.fromBN(B[1].amount,b),tokenVaultR0Amount:void 0===I?void 0:s.DecimalUtil.fromBN(B[2].amount,I),tokenVaultR1Amount:void 0===w?void 0:s.DecimalUtil.fromBN(B[3].amount,w),tokenVaultR2Amount:void 0===T?void 0:s.DecimalUtil.fromBN(B[4].amount,T),reward0WeeklyEmission:void 0===I?void 0:s.DecimalUtil.fromBN(d(k.rewardInfos[0].emissionsPerSecondX64.muln(604800).shrn(64)),I),reward1WeeklyEmission:void 0===w?void 0:s.DecimalUtil.fromBN(d(k.rewardInfos[1].emissionsPerSecondX64.muln(604800).shrn(64)),w),reward2WeeklyEmission:void 0===T?void 0:s.DecimalUtil.fromBN(d(k.rewardInfos[2].emissionsPerSecondX64.muln(604800).shrn(64)),T),rewardLastUpdatedTimestamp:A().unix(k.rewardLastUpdatedTimestamp.toNumber()),fullRangeTickArrays:Y,neighboringTickArrays:O,isotopeWhirlpools:ee,oracle:te,tradableAmounts:ie,tickArrayTradableAmounts:ne}}}function C(e){const{connection:t}=(0,u.R)(),i=(0,m.a)({queryKey:["tokens"],queryFn:B});return(0,m.a)({queryKey:["whirlpool",{address:e,endpoint:t.rpcEndpoint}],queryFn:()=>R(t,e,i.data),enabled:!!i.data})}var z=i(24246);function U(){var e;const t=(0,m.a)({queryKey:["whirlpools"],queryFn:w}),i=t.data;return(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("div",{className:"justify-between",children:(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("h2",{className:"text-2xl font-bold",children:"Whirlpools"}),(0,z.jsx)("div",{className:"space-x-2",children:t.isLoading?(0,z.jsx)("span",{className:"loading loading-spinner"}):(0,z.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{await t.refetch()},children:(0,z.jsx)(n.Z,{size:16})})})]})}),t.isError&&(0,z.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(e=t.error)?void 0:e.message.toString()]}),t.isSuccess&&(0,z.jsx)("div",{children:0===t.data.length?(0,z.jsx)("div",{children:"No whirlpools found."}):(0,z.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{children:"name"}),(0,z.jsx)("th",{children:"tickSpacing"}),(0,z.jsx)("th",{className:"text-right",children:"price"}),(0,z.jsx)("th",{className:"text-right",children:"TVL"}),(0,z.jsx)("th",{className:"text-right",children:"24H Volume"})]})}),(0,z.jsx)("tbody",{children:null==i?void 0:i.map((e=>(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:(0,z.jsx)("div",{className:"flex space-x-2",children:(0,z.jsx)("span",{className:"font-mono",children:(0,z.jsx)(r.rU,{to:`${e.address.toString()}`,children:e.name})})})}),(0,z.jsx)("td",{children:(0,z.jsx)("div",{className:"flex space-x-2",children:(0,z.jsx)("span",{className:"font-mono",children:e.tickSpacing})})}),(0,z.jsx)("td",{className:"text-right",children:(0,z.jsx)("span",{className:"font-mono",children:e.price.toSignificantDigits(4).toString()})}),(0,z.jsx)("td",{className:"text-right",children:(0,z.jsx)("span",{className:"font-mono",children:e.usdTVL.toFixed(0)})}),(0,z.jsx)("td",{className:"text-right",children:(0,z.jsx)("span",{className:"font-mono",children:e.usdVolumeDay.toFixed(0)})})]},e.address.toString())))})]})})]})}function E({address:e}){var t,i,r;const s=C(e),a=s.data,o=e=>void 0===e||""===e.symbol?"":`(${e.symbol})`,c="initialized",d="NOT INITIALIZED";return(0,z.jsxs)("div",{className:"space-y-2",children:[(0,z.jsx)("div",{className:"justify-between",children:(0,z.jsxs)("div",{className:"flex justify-between",children:[(0,z.jsx)("h2",{className:"text-2xl font-bold mr-4",children:e.toString()}),(0,z.jsx)("div",{className:"space-x-2",children:s.isLoading?(0,z.jsx)("span",{className:"loading loading-spinner"}):(0,z.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{await s.refetch()},children:(0,z.jsx)(n.Z,{size:16})})})]})}),s.isError&&(0,z.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(t=s.error)?void 0:t.message.toString()]}),s.isSuccess&&(0,z.jsx)("div",{children:s.data?(0,z.jsxs)("div",{children:[(0,z.jsx)("h3",{className:"text-xl font-bold my-4",children:"Pool Data"}),(0,z.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{children:"field"}),(0,z.jsx)("th",{children:"value"})]})}),(0,z.jsxs)("tbody",{children:[(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"whirlpoolsConfig"}),(0,z.jsx)("td",{children:null==a?void 0:a.parsed.whirlpoolsConfig.toString()})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"tokenMintA"}),(0,z.jsxs)("td",{children:[null==a?void 0:a.parsed.tokenMintA.toString()," ",o(null==a?void 0:a.derived.tokenInfoA)]})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"tokenMintB"}),(0,z.jsxs)("td",{children:[null==a?void 0:a.parsed.tokenMintB.toString()," ",o(null==a?void 0:a.derived.tokenInfoB)]})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"tickSpacing"}),(0,z.jsx)("td",{children:null==a?void 0:a.parsed.tickSpacing})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"liquidity"}),(0,z.jsx)("td",{children:null==a?void 0:a.parsed.liquidity.toString()})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"sqrtPrice"}),(0,z.jsx)("td",{children:null==a?void 0:a.parsed.sqrtPrice.toString()})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"tickCurrentIndex"}),(0,z.jsx)("td",{children:null==a?void 0:a.parsed.tickCurrentIndex})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"feeRate"}),(0,z.jsxs)("td",{children:[null==a?void 0:a.parsed.feeRate," (",null==a?void 0:a.derived.feeRate.toString(),"%)"]})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"protocolFeeFate"}),(0,z.jsxs)("td",{children:[null==a?void 0:a.parsed.protocolFeeRate," (",null==a?void 0:a.derived.protocolFeeRate.toString(),"%)"]})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"price [B/A]"}),(0,z.jsx)("td",{children:null==a?void 0:a.derived.price.toSignificantDigits(6).toString()})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"invertedPrice [A/B]"}),(0,z.jsx)("td",{children:null==a?void 0:a.derived.invertedPrice.toSignificantDigits(6).toString()})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"tokenVaultA"}),(0,z.jsxs)("td",{children:[null==a?void 0:a.derived.tokenVaultAAmount.toString()," ",o(null==a?void 0:a.derived.tokenInfoA)]})]}),(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"tokenVaultB"}),(0,z.jsxs)("td",{children:[null==a?void 0:a.derived.tokenVaultBAmount.toString()," ",o(null==a?void 0:a.derived.tokenInfoB)]})]})]})]}),(0,z.jsx)("h3",{className:"text-xl font-bold my-4",children:"TickArray For FullRange"}),(0,z.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{children:"initialized"}),(0,z.jsx)("th",{children:"start tick"}),(0,z.jsx)("th",{children:"pubkey"}),(0,z.jsx)("th",{})]})}),(0,z.jsxs)("tbody",{children:[(0,z.jsxs)("tr",{className:null!=a&&a.derived.fullRangeTickArrays[1].isInitialized?"":"bg-gray-500",children:[(0,z.jsx)("td",{children:null!=a&&a.derived.fullRangeTickArrays[1].isInitialized?c:d}),(0,z.jsxs)("td",{children:[null==a?void 0:a.derived.fullRangeTickArrays[1].startTickIndex," (max)"]}),(0,z.jsx)("td",{children:l(null==a?void 0:a.derived.fullRangeTickArrays[1].pubkey.toString())}),(0,z.jsx)("td",{children:(0,z.jsx)(q,{initialized:null!=(i=null==a?void 0:a.derived.fullRangeTickArrays[1].isInitialized)&&i,whirlpool:null==a?void 0:a.meta.pubkey,tickStartIndex:null==a?void 0:a.derived.fullRangeTickArrays[1].startTickIndex})})]}),(0,z.jsxs)("tr",{className:null!=a&&a.derived.fullRangeTickArrays[0].isInitialized?"":"bg-gray-500",children:[(0,z.jsx)("td",{children:null!=a&&a.derived.fullRangeTickArrays[0].isInitialized?c:d}),(0,z.jsxs)("td",{children:[null==a?void 0:a.derived.fullRangeTickArrays[0].startTickIndex," (min)"]}),(0,z.jsx)("td",{children:l(null==a?void 0:a.derived.fullRangeTickArrays[0].pubkey.toString())}),(0,z.jsx)("td",{children:(0,z.jsx)(q,{initialized:null!=(r=null==a?void 0:a.derived.fullRangeTickArrays[0].isInitialized)&&r,whirlpool:null==a?void 0:a.meta.pubkey,tickStartIndex:null==a?void 0:a.derived.fullRangeTickArrays[0].startTickIndex})})]})]})]}),(0,z.jsx)("h3",{className:"text-xl font-bold my-4",children:"Neighboring TickArrays"}),(0,z.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{children:"initialized"}),(0,z.jsx)("th",{children:"start tick"}),(0,z.jsx)("th",{children:"price range"}),(0,z.jsxs)("th",{children:["tradableA ",o(null==a?void 0:a.derived.tokenInfoA)]}),(0,z.jsxs)("th",{children:["tradableB ",o(null==a?void 0:a.derived.tokenInfoB)]}),(0,z.jsx)("th",{children:"pubkey"}),(0,z.jsx)("th",{})]})}),(0,z.jsxs)("tbody",{children:[null==a?void 0:a.derived.tickArrayTradableAmounts.upward.slice().reverse().map((e=>(0,z.jsxs)("tr",{className:e.tickArrayData?"":"bg-gray-500",children:[(0,z.jsx)("td",{children:e.tickArrayData?c:d}),(0,z.jsx)("td",{children:e.tickArrayStartIndex}),(0,z.jsxs)("td",{children:["~ ",(()=>{const t=e.tickArrayStartIndex+(null==a?void 0:a.parsed.tickSpacing)*y.TICK_ARRAY_SIZE,i=y.PriceMath.tickIndexToPrice(t,null==a?void 0:a.derived.decimalsA,null==a?void 0:a.derived.decimalsB),n=i.div(null==a?void 0:a.derived.price).sub(1).mul(100);return`${i.toSignificantDigits(6).toString()} (+${n.toFixed(2)}%)`})()]}),(0,z.jsx)("td",{className:e.tickArrayData?"bg-pink-900":"",children:e.amountA.toString()}),(0,z.jsx)("td",{children:e.amountB.toString()}),(0,z.jsx)("td",{children:l(e.tickArrayPubkey.toString())}),(0,z.jsx)("td",{children:(0,z.jsx)(q,{initialized:!!e.tickArrayData,whirlpool:null==a?void 0:a.meta.pubkey,tickStartIndex:e.tickArrayStartIndex})})]}))),null==a?void 0:a.derived.tickArrayTradableAmounts.downward.map((e=>(0,z.jsxs)("tr",{className:e.tickArrayData?"":"bg-gray-500",children:[(0,z.jsx)("td",{children:e.tickArrayData?c:d}),(0,z.jsx)("td",{children:e.tickArrayStartIndex}),(0,z.jsxs)("td",{children:["~ ",(()=>{const t=e.tickArrayStartIndex,i=y.PriceMath.tickIndexToPrice(t,null==a?void 0:a.derived.decimalsA,null==a?void 0:a.derived.decimalsB),n=i.div(null==a?void 0:a.derived.price).sub(1).mul(100);return`${i.toSignificantDigits(6).toString()} (${n.toFixed(2)}%)`})()]}),(0,z.jsx)("td",{children:e.amountA.toString()}),(0,z.jsx)("td",{className:e.tickArrayData?"bg-blue-900":"",children:e.amountB.toString()}),(0,z.jsx)("td",{children:l(e.tickArrayPubkey.toString())}),(0,z.jsx)("td",{children:(0,z.jsx)(q,{initialized:!!e.tickArrayData,whirlpool:null==a?void 0:a.meta.pubkey,tickStartIndex:e.tickArrayStartIndex})})]})))]})]})]}):(0,z.jsx)("div",{children:"No whirlpool found."})})]})}function q({initialized:e,whirlpool:t,tickStartIndex:i}){const n=function({address:e}){const{connection:t}=(0,u.R)(),i=(0,p.pg)(),n=(0,h.O)(),r=(0,k.NL)();return(0,x.D)({mutationKey:["initialize-tick-array",{endpoint:t.rpcEndpoint,address:e}],mutationFn:async i=>{let r="";try{const s=y.WhirlpoolContext.from(t,n,y.ORCA_WHIRLPOOL_PROGRAM_ID),a=y.WhirlpoolIx.initTickArrayIx(s.program,{funder:n.publicKey,startTick:i.tickStartIndex,tickArrayPda:y.PDAUtil.getTickArray(s.program.programId,e,i.tickStartIndex),whirlpool:e}),l=await t.getLatestBlockhash(),o=new j.TransactionMessage({payerKey:n.publicKey,recentBlockhash:l.blockhash,instructions:[...a.instructions]}).compileToLegacyMessage(),c=new j.VersionedTransaction(o);return r=await n.sendTransaction(c,t),await t.confirmTransaction(Object.assign({signature:r},l),"confirmed"),console.log(r),r}catch(s){return void console.log("error",`Transaction failed! ${s}`,r)}},onSuccess:n=>(n&&i(n),Promise.all([r.invalidateQueries({queryKey:["whirlpool",{address:e,endpoint:t.rpcEndpoint}]})])),onError:e=>{g.ZP.error(`Transaction failed! ${e}`)}})}({address:t});if(!e)return(0,z.jsx)("button",{className:"btn btn-xs lg:btn-md btn-outline",onClick:async()=>{await n.mutateAsync({tickStartIndex:i})},children:"Initialize"})}},95126:(e,t,i)=>{var n={"./af":1009,"./af.js":1009,"./ar":88769,"./ar-dz":23739,"./ar-dz.js":23739,"./ar-kw":93745,"./ar-kw.js":93745,"./ar-ly":99576,"./ar-ly.js":99576,"./ar-ma":67408,"./ar-ma.js":67408,"./ar-ps":13857,"./ar-ps.js":13857,"./ar-sa":48781,"./ar-sa.js":48781,"./ar-tn":87856,"./ar-tn.js":87856,"./ar.js":88769,"./az":2030,"./az.js":2030,"./be":56476,"./be.js":56476,"./bg":25304,"./bg.js":25304,"./bm":48125,"./bm.js":48125,"./bn":34,"./bn-bd":29835,"./bn-bd.js":29835,"./bn.js":34,"./bo":64082,"./bo.js":64082,"./br":8317,"./br.js":8317,"./bs":93107,"./bs.js":93107,"./ca":68272,"./ca.js":68272,"./cs":98567,"./cs.js":98567,"./cv":61583,"./cv.js":61583,"./cy":10076,"./cy.js":10076,"./da":31760,"./da.js":31760,"./de":8973,"./de-at":63214,"./de-at.js":63214,"./de-ch":74728,"./de-ch.js":74728,"./de.js":8973,"./dv":54053,"./dv.js":54053,"./el":7499,"./el.js":7499,"./en-au":67876,"./en-au.js":67876,"./en-ca":47010,"./en-ca.js":47010,"./en-gb":34239,"./en-gb.js":34239,"./en-ie":99830,"./en-ie.js":99830,"./en-il":28438,"./en-il.js":28438,"./en-in":25322,"./en-in.js":25322,"./en-nz":43264,"./en-nz.js":43264,"./en-sg":55449,"./en-sg.js":55449,"./eo":39486,"./eo.js":39486,"./es":32430,"./es-do":16310,"./es-do.js":16310,"./es-mx":27038,"./es-mx.js":27038,"./es-us":73099,"./es-us.js":73099,"./es.js":32430,"./et":34975,"./et.js":34975,"./eu":87063,"./eu.js":87063,"./fa":68073,"./fa.js":68073,"./fi":50957,"./fi.js":50957,"./fil":8764,"./fil.js":8764,"./fo":81775,"./fo.js":81775,"./fr":74179,"./fr-ca":14306,"./fr-ca.js":14306,"./fr-ch":73791,"./fr-ch.js":73791,"./fr.js":74179,"./fy":47014,"./fy.js":47014,"./ga":46911,"./ga.js":46911,"./gd":62958,"./gd.js":62958,"./gl":87344,"./gl.js":87344,"./gom-deva":33161,"./gom-deva.js":33161,"./gom-latn":35798,"./gom-latn.js":35798,"./gu":68485,"./gu.js":68485,"./he":27917,"./he.js":27917,"./hi":52159,"./hi.js":52159,"./hr":95842,"./hr.js":95842,"./hu":30005,"./hu.js":30005,"./hy-am":51312,"./hy-am.js":51312,"./id":60781,"./id.js":60781,"./is":64101,"./is.js":64101,"./it":43467,"./it-ch":4759,"./it-ch.js":4759,"./it.js":43467,"./ja":44164,"./ja.js":44164,"./jv":70079,"./jv.js":70079,"./ka":57036,"./ka.js":57036,"./kk":92022,"./kk.js":92022,"./km":63418,"./km.js":63418,"./kn":43655,"./kn.js":43655,"./ko":30986,"./ko.js":30986,"./ku":91902,"./ku-kmr":16513,"./ku-kmr.js":16513,"./ku.js":91902,"./ky":4604,"./ky.js":4604,"./lb":99026,"./lb.js":99026,"./lo":20537,"./lo.js":20537,"./lt":22288,"./lt.js":22288,"./lv":1495,"./lv.js":1495,"./me":60690,"./me.js":60690,"./mi":2571,"./mi.js":2571,"./mk":93959,"./mk.js":93959,"./ml":97225,"./ml.js":97225,"./mn":88,"./mn.js":88,"./mr":46622,"./mr.js":46622,"./ms":11070,"./ms-my":48899,"./ms-my.js":48899,"./ms.js":11070,"./mt":63931,"./mt.js":63931,"./my":95393,"./my.js":95393,"./nb":4274,"./nb.js":4274,"./ne":8914,"./ne.js":8914,"./nl":33114,"./nl-be":68479,"./nl-be.js":68479,"./nl.js":33114,"./nn":4513,"./nn.js":4513,"./oc-lnc":46549,"./oc-lnc.js":46549,"./pa-in":28264,"./pa-in.js":28264,"./pl":32848,"./pl.js":32848,"./pt":90899,"./pt-br":55077,"./pt-br.js":55077,"./pt.js":90899,"./ro":92512,"./ro.js":92512,"./ru":21753,"./ru.js":21753,"./sd":16840,"./sd.js":16840,"./se":78362,"./se.js":78362,"./si":50464,"./si.js":50464,"./sk":66324,"./sk.js":66324,"./sl":41963,"./sl.js":41963,"./sq":53039,"./sq.js":53039,"./sr":93454,"./sr-cyrl":10466,"./sr-cyrl.js":10466,"./sr.js":93454,"./ss":95158,"./ss.js":95158,"./sv":28859,"./sv.js":28859,"./sw":57594,"./sw.js":57594,"./ta":26915,"./ta.js":26915,"./te":15677,"./te.js":15677,"./tet":92154,"./tet.js":92154,"./tg":74098,"./tg.js":74098,"./th":89071,"./th.js":89071,"./tk":49381,"./tk.js":49381,"./tl-ph":1869,"./tl-ph.js":1869,"./tlh":92346,"./tlh.js":92346,"./tr":71483,"./tr.js":71483,"./tzl":30266,"./tzl.js":30266,"./tzm":33138,"./tzm-latn":32960,"./tzm-latn.js":32960,"./tzm.js":33138,"./ug-cn":29456,"./ug-cn.js":29456,"./uk":50805,"./uk.js":50805,"./ur":61127,"./ur.js":61127,"./uz":29628,"./uz-latn":80840,"./uz-latn.js":80840,"./uz.js":29628,"./vi":56962,"./vi.js":56962,"./x-pseudo":49257,"./x-pseudo.js":49257,"./yo":62423,"./yo.js":62423,"./zh-cn":61002,"./zh-cn.js":61002,"./zh-hk":6046,"./zh-hk.js":6046,"./zh-mo":36903,"./zh-mo.js":36903,"./zh-tw":24710,"./zh-tw.js":24710};function r(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=95126}}]);